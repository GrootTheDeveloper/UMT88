@model UMT88.ViewModels.DashboardVm
@{
    Layout = "_UserLayout";
    ViewData["Title"] = "User Dashboard";
    ViewData["UserName"] = Model.user_name;
    ViewData["Balance"] = Model.balance.ToString("N0");
}




<main class="px-4 py-6 max-w-7xl mx-auto">

    <!-- Featured -->
    <h2 class="text-blue-600 font-semibold text-lg mb-4">Các trận đấu nổi bật</h2>
    <div class="flex space-x-4 mb-6 overflow-x-auto">
        @foreach (var m in Model.featured)
        {
            <div class="relative rounded-md overflow-hidden w-[320px] h-[140px] flex-shrink-0 bg-gray-100">
                <img class="absolute left-4 top-1/2 w-14 h-14 transform -translate-y-1/2" src="@m.home_logo" alt="@m.home_name" />
                <img class="absolute right-4 top-1/2 w-14 h-14 transform -translate-y-1/2" src="@m.away_logo" alt="@m.away_name" />
                <div class="absolute inset-0 bg-black/30 flex items-center justify-center text-white text-xl font-bold">
                    @(m.home_score ?? 0) - @(m.away_score ?? 0)
                </div>
            </div>
        }
    </div>

    <!-- Live score -->
    <section class="mb-8">
        <h3 class="text-red-600 font-semibold text-base mb-3">Tỉ số trực tiếp</h3>
        <table class="w-full text-sm border-separate border-spacing-y-3">
            <tbody>
                @foreach (var m in Model.featured)
                {
                    <tr class="border-b border-gray-200">
                        <td class="py-2">@m.home_name vs @m.away_name</td>
                        <td class="py-2 text-center text-gray-600">@m.status</td>
                        <td class="py-2 text-center font-semibold">@((m.home_score ?? 0)) - @((m.away_score ?? 0))</td>
                        <td class="py-2 text-right pr-2 text-red-500 cursor-pointer">
                            <a asp-controller="Bet" asp-action="Index" asp-route-matchId="@m.match_id">Live</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </section>

    <!-- Other matches betting -->
    <section>
        <h3 class="text-blue-600 font-semibold text-lg mb-4">Tỉ lệ cá cược</h3>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
            @foreach (var m in Model.others.Take(6))
            {
                <div class="bg-gray-50 rounded-xl p-4">
                    <div class="flex items-center space-x-3 mb-2">
                        <div class="w-6 h-6 rounded-full bg-blue-600"></div>
                        <span class="text-xs text-blue-600 font-semibold">@m.competition</span>
                    </div>
                    <div class="font-bold text-base mb-1">@m.home_name vs @m.away_name</div>
                    <div class="text-xs text-gray-500 mb-3">Cược chấp: @(m.home_name) (1)</div>
                    <button class="bg-blue-600 text-white text-xs px-3 py-1 rounded"
                            asp-controller="Bet" asp-action="Index" asp-route-matchId="@m.match_id">
                        Cá cược
                    </button>
                </div>
            }
        </div>
    </section>

</main>
